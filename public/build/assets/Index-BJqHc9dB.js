import{m as A,r as b,s as L,A as T,f as x,b as n,d as e,u as o,h as U,j as g,e as i,v as u,i as j,t as c,x as N,n as P,a as B,p as E,F as _,g as F,o as p}from"./app-DhMa9BIp.js";import{A as I,T as M}from"./AuthLayout-BITznstG.js";import{S as $}from"./search-D0GS8zjR.js";import{c as q,X as D}from"./x-CEVAYI9T.js";import{P as z,T as H}from"./trash-2-Be6CLe4a.js";import"./circle-alert-PEU5T2pF.js";const y=q("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Q={class:"space-y-6"},X={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},G={class:"text-2xl font-bold text-slate-800 flex items-center gap-2"},J={class:"relative"},K={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},O={class:"lg:col-span-1"},R={class:"bg-white border border-slate-200 rounded-xl shadow-sm sticky top-6"},W={class:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50"},Y={class:"font-semibold text-slate-700"},Z={class:"space-y-1"},ee={class:"space-y-1"},se={class:"space-y-1"},te={class:"space-y-1"},le=["disabled"],oe={class:"lg:col-span-2"},ae={class:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden"},de={class:"w-full text-left"},ne={class:"divide-y divide-slate-100"},re={class:"px-6 py-4"},ie={class:"font-bold text-slate-900"},ue={class:"text-xs text-slate-500"},ce={class:"px-6 py-4 text-sm text-slate-600"},pe=["title"],me={class:"px-6 py-4 text-right"},be={class:"flex justify-end gap-1"},xe=["onClick"],fe=["onClick"],Se=A({layout:I,__name:"Index",props:{suppliers:{}},setup(w){const f=w,d=b(!1),m=b(null),r=b(""),h=b(f.suppliers),t=L({name:"",email:"",phone:"",address:""}),S=()=>{d.value&&m.value?t.put(`/suppliers/${m.value}`,{onSuccess:()=>v()}):t.post("/suppliers",{onSuccess:()=>v()})},k=a=>{confirm("Are you sure?")&&t.delete(`/suppliers/${a}`,{preserveScroll:!0})},C=a=>{d.value=!0,m.value=a.id,t.name=a.name,t.email=a.email||"",t.phone=a.phone||"",t.address=a.address||"",window.scrollTo({top:0,behavior:"smooth"})},v=()=>{t.reset(),d.value=!1,m.value=null};return T([r,()=>f.suppliers],()=>{h.value=f.suppliers.filter(a=>a.name.toLowerCase().includes(r.value.toLowerCase())||(a.email?.toLowerCase()||"").includes(r.value.toLowerCase()))},{immediate:!0}),(a,s)=>(p(),x(_,null,[n(o(U),{title:"Suppliers"}),e("div",Q,[e("div",X,[e("div",null,[e("h1",G,[n(o(M),{class:"text-blue-600 w-6 h-6"}),s[5]||(s[5]=g(" Suppliers ",-1))])]),e("div",J,[n(o($),{class:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>r.value=l),type:"text",placeholder:"Search...",class:"pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-full md:w-64"},null,512),[[u,r.value]])])]),e("div",K,[e("div",O,[e("div",R,[e("div",W,[e("h2",Y,c(d.value?"Edit Supplier":"Add Supplier"),1),d.value?(p(),x("button",{key:0,onClick:v,class:"text-slate-400 hover:text-red-500"},[n(o(D),{class:"w-5 h-5"})])):j("",!0)]),e("form",{onSubmit:N(S,["prevent"]),class:"p-5 space-y-4"},[e("div",Z,[s[6]||(s[6]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Name",-1)),i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o(t).name=l),type:"text",class:"w-full border border-slate-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none",required:""},null,512),[[u,o(t).name]])]),e("div",ee,[s[7]||(s[7]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Email",-1)),i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>o(t).email=l),type:"email",class:"w-full border border-slate-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[u,o(t).email]])]),e("div",se,[s[8]||(s[8]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Phone",-1)),i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>o(t).phone=l),type:"text",class:"w-full border border-slate-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[u,o(t).phone]])]),e("div",te,[s[9]||(s[9]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Address",-1)),i(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=l=>o(t).address=l),rows:"3",class:"w-full border border-slate-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[u,o(t).address]])]),e("button",{type:"submit",disabled:o(t).processing,class:P(["w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2",d.value?"bg-amber-500 text-white":"bg-blue-600 text-white"])},[(p(),B(E(d.value?o(y):o(z)),{class:"w-4 h-4"})),g(" "+c(d.value?"Update":"Save"),1)],10,le)],32)])]),e("div",oe,[e("div",ae,[e("table",de,[s[10]||(s[10]=e("thead",{class:"bg-slate-50 border-b text-slate-500 text-[10px] uppercase font-bold tracking-widest"},[e("tr",null,[e("th",{class:"px-6 py-4"},"Company"),e("th",{class:"px-6 py-4"},"Address"),e("th",{class:"px-6 py-4 text-right"},"Actions")])],-1)),e("tbody",ne,[(p(!0),x(_,null,F(h.value,l=>(p(),x("tr",{key:l.id,class:"hover:bg-slate-50/50 group"},[e("td",re,[e("div",ie,c(l.name),1),e("div",ue,c(l.email||"—"),1)]),e("td",ce,[e("span",{class:"block max-w-[180px] truncate",title:l.address||void 0},c(l.address||"—"),9,pe)]),e("td",me,[e("div",be,[e("button",{onClick:V=>C(l),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg"},[n(o(y),{class:"w-4 h-4"})],8,xe),e("button",{onClick:V=>k(l.id),class:"p-2 text-red-500 hover:bg-red-50 rounded-lg"},[n(o(H),{class:"w-4 h-4"})],8,fe)])])]))),128))])])])])])])],64))}});export{Se as default};
