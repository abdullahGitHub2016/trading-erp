import{m as $,r as y,M as S,A as M,f as r,d as t,b as n,T as L,w as p,i as o,a as u,u as e,t as T,n as m,o as s,c as P,j as b,q as x,J as V}from"./app-DhMa9BIp.js";import{c as v,X as B,C as z,L as j}from"./x-CEVAYI9T.js";import{C as D}from"./circle-alert-PEU5T2pF.js";const R=v("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const E=v("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const q=v("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const H=v("PackageIcon",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const C=v("ShieldIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const N=v("ShoppingBagIcon",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const O=v("ShoppingCartIcon",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const J=v("TruckIcon",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),U={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6 z-[9999]"},W={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},X={key:0,class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5"},Z={class:"p-4"},F={class:"flex items-start"},G={class:"flex-shrink-0"},K={class:"ml-3 w-0 flex-1 pt-0.5"},Q={class:"text-sm font-bold text-gray-900"},Y={class:"mt-1 text-sm text-gray-500"},ee={class:"ml-4 flex flex-shrink-0"},se={class:"h-1 w-full bg-gray-100"},te=$({__name:"Toast",setup(k){const l=y(!1),a=y(""),i=y("success"),g=S(),_=()=>{l.value=!1};return M(()=>g.props.flash,d=>{(d?.message||d?.error)&&(a.value=d.message||d.error,i.value=d.error?"error":"success",l.value=!0,setTimeout(()=>{l.value=!1},4e3))},{deep:!0,immediate:!0}),(d,w)=>(s(),r("div",U,[t("div",W,[n(L,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[l.value?(s(),r("div",X,[t("div",Z,[t("div",F,[t("div",G,[i.value==="success"?(s(),u(e(E),{key:0,class:"h-6 w-6 text-green-500"})):(s(),u(e(D),{key:1,class:"h-6 w-6 text-red-500"}))]),t("div",K,[t("p",Q,T(i.value==="success"?"Success!":"System Error"),1),t("p",Y,T(a.value),1)]),t("div",ee,[t("button",{type:"button",onClick:_,class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"},[n(e(B),{class:"h-5 w-5"})])])])]),t("div",se,[t("div",{class:m(["h-full transition-all duration-100",i.value==="success"?"bg-green-500 animate-progress":"bg-red-500 animate-progress"])},null,2)])])):o("",!0)]),_:1})])]))}}),A=(k,l)=>{const a=k.__vccOpts||k;for(const[i,g]of l)a[i]=g;return a},ae=A(te,[["__scopeId","data-v-75328038"]]),oe={class:"min-h-screen bg-slate-50 flex"},le={class:"h-16 flex items-center justify-between px-4 border-b text-blue-600"},re={key:0,class:"flex items-center gap-2 overflow-hidden whitespace-nowrap"},ne={class:"p-1 bg-blue-600 rounded text-white shrink-0"},ce={key:1,class:"mx-auto"},ie={class:"p-4 space-y-2 flex-1 overflow-hidden"},ue={key:0,class:"whitespace-nowrap"},de={key:0,class:"whitespace-nowrap"},pe={key:0,class:"whitespace-nowrap"},he={key:0,class:"whitespace-nowrap"},me={key:0,class:"whitespace-nowrap"},ve={key:0,class:"whitespace-nowrap"},ge={class:"flex-1 flex flex-col min-w-0"},xe={class:"bg-white border-b h-16 flex items-center justify-between px-6 sticky top-0 z-10"},ye={class:"flex items-center gap-2"},fe={key:0,class:"text-xl font-bold text-slate-900 tracking-tight"},_e={key:0,class:"flex items-center gap-4"},ke={class:"text-sm font-medium text-slate-700"},we={class:"p-6 relative"},be=$({__name:"AuthLayout",setup(k){const l=S(),a=y(!0),i=y(!1),g=y(""),_=y("success");M(()=>l.props.flash,h=>{const c=h.success||h.message;c?(g.value=c,_.value="success",d()):h.error&&(g.value=h.error,_.value="error",d())},{deep:!0,immediate:!0});function d(){i.value=!0,setTimeout(()=>{i.value=!1},3e3)}const w=P(()=>!!l.props.auth.user),f=h=>window.location.pathname.startsWith(h);return(h,c)=>(s(),r("div",oe,[w.value?(s(),r("aside",{key:0,class:m([a.value?"w-64":"w-20","bg-white border-r min-h-screen transition-all duration-300 flex flex-col"])},[t("div",le,[a.value?(s(),r("div",re,[t("div",ne,[n(e(C),{class:"w-5 h-5"})]),c[2]||(c[2]=t("span",{class:"font-bold text-slate-900 tracking-tight"},[b("TRD"),t("span",{class:"text-blue-600"},"ERP")],-1))])):(s(),r("div",ce,[n(e(C),{class:"w-6 h-6"})])),t("button",{onClick:c[0]||(c[0]=I=>a.value=!a.value),class:"p-1 hover:bg-slate-100 rounded-md"},[a.value?(s(),u(e(R),{key:0,class:"w-4 h-4 text-slate-400"})):(s(),u(e(z),{key:1,class:"w-4 h-4 text-slate-400"}))])]),t("nav",ie,[n(e(x),{href:"/dashboard",class:m([f("/dashboard")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(q),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",ue,"Dashboard")):o("",!0)]),_:1},8,["class"]),e(l).props.auth.user.permissions.includes("product.view")?(s(),u(e(x),{key:0,href:"/products",class:m([f("/products")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(H),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",de,"Products")):o("",!0)]),_:1},8,["class"])):o("",!0),e(l).props.auth.user.permissions.includes("purchase.view")?(s(),u(e(x),{key:1,href:"/purchases",class:m([f("/purchases")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(O),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",pe,"Purchases")):o("",!0)]),_:1},8,["class"])):o("",!0),e(l).props.auth.user.permissions.includes("supplier.view")?(s(),u(e(x),{key:2,href:"/suppliers",class:m([f("/suppliers")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(J),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",he,"Suppliers")):o("",!0)]),_:1},8,["class"])):o("",!0),e(l).props.auth.user.permissions.includes("sales.view")?(s(),u(e(x),{key:3,href:"/sales",class:m([f("/sales")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(N),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",me,"Sales")):o("",!0)]),_:1},8,["class"])):o("",!0),e(l).props.auth.user.permissions.includes("role.manage")?(s(),u(e(x),{key:4,href:"/admin/roles",class:m([f("/admin/roles")?"bg-slate-100 text-blue-600":"text-slate-700 hover:bg-slate-100","flex items-center gap-3 p-2 rounded transition-all group"])},{default:p(()=>[n(e(C),{class:"w-5 h-5 shrink-0"}),a.value?(s(),r("span",ve,"Roles & Permissions")):o("",!0)]),_:1},8,["class"])):o("",!0)])],2)):o("",!0),t("div",ge,[t("header",xe,[t("div",ye,[w.value?o("",!0):(s(),r("span",fe,[...c[3]||(c[3]=[b("TRD",-1),t("span",null,"ERP",-1)])]))]),w.value?(s(),r("div",_e,[t("span",ke,T(e(l).props.auth.user.name),1),n(e(x),{href:"/logout",method:"post",as:"button",class:"text-red-500 text-sm flex items-center gap-1 hover:underline"},{default:p(()=>[n(e(j),{class:"w-4 h-4"}),c[4]||(c[4]=b(" Logout ",-1))]),_:1})])):o("",!0)]),t("main",we,[V(h.$slots,"default",{},void 0,!0),n(L,{name:"toast"},{default:p(()=>[i.value?(s(),u(ae,{key:0,message:g.value,type:_.value,onClose:c[1]||(c[1]=I=>i.value=!1)},null,8,["message","type"])):o("",!0)]),_:1})])])]))}}),Se=A(be,[["__scopeId","data-v-070b17fa"]]);export{Se as A,R as C,H as P,O as S,J as T,A as _};
